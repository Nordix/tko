apiVersion: kind.x-k8s.io/v1alpha4
kind: Cluster

name: tko
nodes:
- role: control-plane
  extraMounts:
  # hostPaths will be created by root user
  - containerPath: /mnt/postgresql
    hostPath: /tmp/tko/postgresql
  - containerPath: /mnt/docker
    hostPath: /tmp/tko/docker
  - containerPath: /mnt/awx-projects
    hostPath: /tmp/tko/awx-projects
  extraPortMappings:
  # See: workloads/tko-api.yaml
  # tko-api gRPC
  - containerPort: 30050
    hostPort: 30050
  # tko-api HTTP
  - containerPort: 30051
    hostPort: 30051
  # tko-api Kubernetes,
  - containerPort: 30052
    hostPort: 30052
  # See: workloads/awx.yaml
  - containerPort: 30053
    hostPort: 30053
networking:
  ipFamily: dual
